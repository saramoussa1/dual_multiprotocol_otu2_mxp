/****************************************************************************
 * * IPG Photonics Corporation
 * COPYRIGHT (C) 2015 IPG Photonics Corporation ALL RIGHTS RESERVED
 * This program may not be reproduced, in whole or in part in any
 * form or any means whatsoever without the written permission of:
 *
 * IPG Photonics Corporation
 * 50 Old Webster Road
 * Oxford, MA 01540, USA
 ****************************************************************************/

/**
 * @file main.h
 * @brief Header file containing definitions needed in main.c.
 *
 *
 */

#ifndef MAIN_H
#define MAIN_H

#include <system.h>
#include <stdlib.h>
#include <sys/alt_stdio.h>
#include <unistd.h>
#include <fcntl.h>
#include "io.h"
#include "altera_avalon_spi.h"
#include "altera_avalon_uart.h"
#include "sys/alt_irq.h"
#include <sys/alt_alarm.h>
#include <stdio.h>
#include "configs.h"
#include "alt_types.h"
#include "common/inc/ipg_types.h"
#include "common/inc/ipg_bits.h"
#include "common/inc/ipg_i2c.h"
#include "common/inc/ipg_mcp9808.h"
#include "common/inc/ipg_si5338.h"
#include "common/inc/ipg_si5326.h"
#include "common/inc/ipg_sfpp.h"
#include "common/inc/xcvr_reconfig.h"
#include "common/inc/ipglb_protocol_2.h"
#include "common/inc/ipg_pca9516.h"
#include "common/inc/ipg_pca9547.h"
#include "common/inc/ipg_cfp.h"
#include "remote_system.h"

#define CL_0_IF_INDEX	0
#define CL_1_IF_INDEX	1
#define CL_2_IF_INDEX	2
#define CL_3_IF_INDEX	3
#define CL_4_IF_INDEX	4
#define CL_5_IF_INDEX	5
#define CL_6_IF_INDEX	6
#define CL_7_IF_INDEX	7
#define CL_8_IF_INDEX	8
#define CL_9_IF_INDEX	9
#define CL_10_IF_INDEX	10
#define CL_11_IF_INDEX	11
#define CL_12_IF_INDEX	12
#define CL_13_IF_INDEX	13
#define CL_14_IF_INDEX	14
#define CL_15_IF_INDEX	15
#define LN_0_IF_INDEX	16
#define LN_1_IF_INDEX	17

#define LN_IF_OFFSET	LN_0_IF_INDEX

static const int si5338_155_52_out4_166_62[179][2] =
{
		{ 27,0x70,},
		{ 28,0x83,},
		{ 29,0x42,},
		{ 30,0xB0,},
		{ 31,0xC0,},
		{ 32,0xC0,},
		{ 33,0xC0,},
		{ 34,0xC0,},
		{ 35,0x00,},
		{ 36,0x04,},
		{ 37,0x04,},
		{ 38,0x04,},
		{ 39,0x04,},
		{ 40,0xE6,},
		{ 41,0x19,},
		{ 42,0x26,},
/*		{ 43,0x00,},*/
		{ 47,0x00,},
		{ 48,0x20,},
		{ 49,0x10,},
		{ 50,0xC5,},
		{ 51,0x07,},
		{ 52,0x10,},
		{ 53,0x00,},
		{ 54,0x05,},
		{ 55,0x00,},
		{ 56,0x00,},
		{ 57,0x00,},
		{ 58,0x00,},
		{ 59,0x01,},
		{ 60,0x00,},
		{ 61,0x00,},
		{ 62,0x00,},
		{ 63,0x10,},
		{ 64,0x00,},
		{ 65,0x05,},
		{ 66,0x00,},
		{ 67,0x00,},
		{ 68,0x00,},
		{ 69,0x00,},
		{ 70,0x01,},
		{ 71,0x00,},
		{ 72,0x00,},
		{ 73,0x00,},
		{ 74,0x10,},
		{ 75,0x00,},
		{ 76,0x05,},
		{ 77,0x00,},
		{ 78,0x00,},
		{ 79,0x00,},
		{ 80,0x00,},
		{ 81,0x01,},
		{ 82,0x00,},
		{ 83,0x00,},
		{ 84,0x00,},
		{ 85,0x10,},
		{ 86,0x00,},
		{ 87,0x05,},
		{ 88,0x00,},
		{ 89,0x00,},
		{ 90,0x00,},
		{ 91,0x00,},
		{ 92,0x01,},
		{ 93,0x00,},
		{ 94,0x00,},
		{ 95,0x00,},
		{ 96,0x10,},
		{ 97,0xFF,},
		{ 98,0x1B,},
		{ 99,0xF0,},
		{100,0x49,},
		{101,0x00,},
		{102,0x00,},
		{103,0xFC,},
		{104,0x12,},
		{105,0x00,},
		{106,0x80,},
		{107,0x00,},
		{108,0x00,},
		{109,0x00,},
		{110,0xC0,},
		{111,0x00,},
		{112,0x00,},
		{113,0x00,},
		{114,0xC0,},
		{115,0x00,},
		{116,0x80,},
		{117,0x00,},
		{118,0xC0,},
		{119,0x00,},
		{120,0x00,},
		{121,0x00,},
		{122,0xC0,},
		{123,0x00,},
		{124,0x00,},
		{125,0x00,},
		{126,0x00,},
		{127,0x00,},
		{128,0x00,},
		{129,0x00,},
		{130,0x00,},
		{131,0x00,},
		{132,0x00,},
		{133,0x00,},
		{134,0x00,},
		{135,0x00,},
		{136,0x00,},
		{137,0x00,},
		{138,0x00,},
		{139,0x00,},
		{140,0x00,},
		{141,0x00,},
		{142,0x00,},
		{143,0x00,},
		{152,0x00,},
		{153,0x00,},
		{154,0x00,},
		{155,0x00,},
		{156,0x00,},
		{157,0x00,},
		{158,0x00,},
		{159,0x00,},
		{160,0x00,},
		{161,0x00,},
		{162,0x00,},
		{163,0x00,},
		{164,0x00,},
		{165,0x00,},
		{166,0x00,},
		{167,0x00,},
		{168,0x00,},
		{169,0x00,},
		{170,0x00,},
		{171,0x00,},
		{172,0x00,},
		{173,0x00,},
		{174,0x00,},
		{175,0x00,},
		{176,0x00,},
		{177,0x00,},
		{178,0x00,},
		{179,0x00,},
		{180,0x00,},
		{181,0x00,},
		{182,0x00,},
		{183,0x00,},
		{184,0x00,},
		{185,0x00,},
		{186,0x00,},
		{187,0x00,},
		{188,0x00,},
		{189,0x00,},
		{190,0x00,},
		{191,0x00,},
		{192,0x00,},
		{193,0x00,},
		{194,0x00,},
		{195,0x00,},
		{196,0x00,},
		{197,0x00,},
		{198,0x00,},
		{199,0x00,},
		{200,0x00,},
		{201,0x00,},
		{202,0x00,},
		{203,0x00,},
		{204,0x00,},
		{205,0x00,},
		{206,0x00,},
		{207,0x00,},
		{208,0x00,},
		{209,0x00,},
		{210,0x00,},
		{211,0x00,},
		{212,0x00,},
		{213,0x00,},
		{214,0x00,},
		{215,0x00,},
		{216,0x00,},
		{246,0x02,},
};

//155_4x155 configuration
static const int si_cfg_155MHz_4x155MHz_0_1ppm[179][2] =
{
		{ 27,0x70,},
		{ 28,0x03,},
		{ 29,0x42,},
		{ 30,0xB0,},
		{ 31,0xC0,},
		{ 32,0xC0,},
		{ 33,0xC0,},
		{ 34,0xC0,},
		{ 35,0x00,},
		{ 36,0x04,},
		{ 37,0x04,},
		{ 38,0x04,},
		{ 39,0x04,},
		{ 40,0xEF,},
		{ 41,0x3D,},
		{ 42,0x2F,},
		{ 47,0x14,},
		{ 48,0x26,},
		{ 49,0x00,},
		{ 50,0xC4,},
		{ 51,0x07,},
		{ 52,0x00,},
		{ 53,0x00,},
		{ 54,0x06,},
		{ 55,0x00,},
		{ 56,0x00,},
		{ 57,0x00,},
		{ 58,0x00,},
		{ 59,0x01,},
		{ 60,0x00,},
		{ 61,0x00,},
		{ 62,0x00,},
		{ 63,0x00,},
		{ 64,0x00,},
		{ 65,0x06,},
		{ 66,0x00,},
		{ 67,0x00,},
		{ 68,0x00,},
		{ 69,0x00,},
		{ 70,0x01,},
		{ 71,0x00,},
		{ 72,0x00,},
		{ 73,0x00,},
		{ 74,0x00,},
		{ 75,0x00,},
		{ 76,0x06,},
		{ 77,0x00,},
		{ 78,0x00,},
		{ 79,0x00,},
		{ 80,0x00,},
		{ 81,0x01,},
		{ 82,0x00,},
		{ 83,0x00,},
		{ 84,0x00,},
		{ 85,0x00,},
		{ 86,0x00,},
		{ 87,0x06,},
		{ 88,0x00,},
		{ 89,0x00,},
		{ 90,0x00,},
		{ 91,0x00,},
		{ 92,0x01,},
		{ 93,0x00,},
		{ 94,0x00,},
		{ 95,0x00,},
		{ 96,0x10,},
		{ 97,0x00,},
		{ 98,0x1E,},
		{ 99,0x00,},
		{100,0x00,},
		{101,0x00,},
		{102,0x00,},
		{103,0x01,},
		{104,0x00,},
		{105,0x00,},
		{106,0x80,},
		{107,0x00,},
		{108,0x00,},
		{109,0x00,},
		{110,0xC0,},
		{111,0x00,},
		{112,0x00,},
		{113,0x00,},
		{114,0xC0,},
		{115,0x00,},
		{116,0x80,},
		{117,0x00,},
		{118,0xC0,},
		{119,0x00,},
		{120,0x00,},
		{121,0x00,},
		{122,0xC0,},
		{123,0x80,},
		{124,0x96,},
		{125,0x98,},
		{126,0x00,},
		{127,0x00,},
		{128,0x00,},
		{129,0x00,},
		{130,0x00,},
		{131,0x00,},
		{132,0x00,},
		{133,0x00,},
		{134,0x00,},
		{135,0x00,},
		{136,0x01,},
		{137,0x00,},
		{138,0x68,},
		{139,0x89,},
		{140,0x09,},
		{141,0x00,},
		{142,0x00,},
		{143,0x00,},
		{152,0x80,},
		{153,0x96,},
		{154,0x98,},
		{155,0x00,},
		{156,0x00,},
		{157,0x00,},
		{158,0x00,},
		{159,0x00,},
		{160,0x00,},
		{161,0x00,},
		{162,0x00,},
		{163,0x00,},
		{164,0x00,},
		{165,0x01,},
		{166,0x00,},
		{167,0x68,},
		{168,0x89,},
		{169,0x09,},
		{170,0x00,},
		{171,0x00,},
		{172,0x00,},
		{173,0x00,},
		{174,0x80,},
		{175,0x96,},
		{176,0x98,},
		{177,0x00,},
		{178,0x00,},
		{179,0x00,},
		{180,0x00,},
		{181,0x00,},
		{182,0x00,},
		{183,0x00,},
		{184,0x00,},
		{185,0x00,},
		{186,0x00,},
		{187,0x01,},
		{188,0x00,},
		{189,0x68,},
		{190,0x89,},
		{191,0x09,},
		{192,0x00,},
		{193,0x00,},
		{194,0x00,},
		{195,0x00,},
		{196,0x80,},
		{197,0x96,},
		{198,0x98,},
		{199,0x00,},
		{200,0x00,},
		{201,0x00,},
		{202,0x00,},
		{203,0x00,},
		{204,0x00,},
		{205,0x00,},
		{206,0x00,},
		{207,0x00,},
		{208,0x00,},
		{209,0x01,},
		{210,0x00,},
		{211,0x68,},
		{212,0x89,},
		{213,0x09,},
		{214,0x00,},
		{215,0x00,},
		{216,0x00,},
		{246,0x02,},
};

//ODU-K Muxponder SI5338 transparent clocking configuration
static const int si_cfg_167Mhz_167Mhz[180][2] =
{
		{27,0x70,},
		{28,0x03,},
		{29,0x43,},
		{30,0xB0,},
		{31,0xC0,},
		{32,0xE3,},
		{33,0xE3,},
		{34,0xE3,},
		{35,0x00,},
		{36,0x04,},
		{37,0x00,},
		{38,0x00,},
		{39,0x00,},
		{40,0x6F,},
		{41,0x0C,},
		{42,0x23,},
		{47,0x14,},
		{48,0x7F,},
		{49,0x10,},
		{50,0xD5,},
		{51,0x07,},
		{52,0x10,},
		{53,0x00,},
		{54,0x05,},
		{55,0x00,},
		{56,0x00,},
		{57,0x00,},
		{58,0x00,},
		{59,0x01,},
		{60,0x00,},
		{61,0x00,},
		{62,0x00,},
		{63,0x10,},
		{64,0x00,},
		{65,0x00,},
		{66,0x00,},
		{67,0x00,},
		{68,0x00,},
		{69,0x00,},
		{70,0x00,},
		{71,0x00,},
		{72,0x00,},
		{73,0x00,},
		{74,0x10,},
		{75,0x00,},
		{76,0x00,},
		{77,0x00,},
		{78,0x00,},
		{79,0x00,},
		{80,0x00,},
		{81,0x00,},
		{82,0x00,},
		{83,0x00,},
		{84,0x00,},
		{85,0x10,},
		{86,0x00,},
		{87,0x00,},
		{88,0x00,},
		{89,0x00,},
		{90,0x00,},
		{91,0x00,},
		{92,0x00,},
		{93,0x00,},
		{94,0x00,},
		{95,0x00,},
		{96,0x10,},
		{97,0x00,},
		{98,0x36,},
		{99,0x00,},
		{100,0x00,},
		{101,0x00,},
		{102,0x00,},
		{103,0xDA,},
		{104,0x2D,},
		{105,0xB3,},
		{106,0xB0,},
		{107,0x00,},
		{108,0x00,},
		{109,0x00,},
		{110,0xC0,},
		{111,0x00,},
		{112,0x00,},
		{113,0x00,},
		{114,0x40,},
		{115,0x00,},
		{116,0x80,},
		{117,0x00,},
		{118,0x40,},
		{119,0x00,},
		{120,0x00,},
		{121,0x00,},
		{122,0x40,},
		{123,0x00,},
		{124,0x00,},
		{125,0x00,},
		{126,0x00,},
		{127,0x00,},
		{128,0x00,},
		{129,0x00,},
		{130,0x00,},
		{131,0x00,},
		{132,0x00,},
		{133,0x00,},
		{134,0x00,},
		{135,0x00,},
		{136,0x00,},
		{137,0x00,},
		{138,0x00,},
		{139,0x00,},
		{140,0x00,},
		{141,0x00,},
		{142,0x00,},
		{143,0x00,},
		{152,0x00,},
		{153,0x00,},
		{154,0x00,},
		{155,0x00,},
		{156,0x00,},
		{157,0x00,},
		{158,0x00,},
		{159,0x00,},
		{160,0x00,},
		{161,0x00,},
		{162,0x00,},
		{163,0x00,},
		{164,0x00,},
		{165,0x00,},
		{166,0x00,},
		{167,0x00,},
		{168,0x00,},
		{169,0x00,},
		{170,0x00,},
		{171,0x00,},
		{172,0x00,},
		{173,0x00,},
		{174,0x00,},
		{175,0x00,},
		{176,0x00,},
		{177,0x00,},
		{178,0x00,},
		{179,0x00,},
		{180,0x00,},
		{181,0x00,},
		{182,0x00,},
		{183,0x00,},
		{184,0x00,},
		{185,0x00,},
		{186,0x00,},
		{187,0x00,},
		{188,0x00,},
		{189,0x00,},
		{190,0x00,},
		{191,0x00,},
		{192,0x00,},
		{193,0x00,},
		{194,0x00,},
		{195,0x00,},
		{196,0x00,},
		{197,0x00,},
		{198,0x00,},
		{199,0x00,},
		{200,0x00,},
		{201,0x00,},
		{202,0x00,},
		{203,0x00,},
		{204,0x00,},
		{205,0x00,},
		{206,0x00,},
		{207,0x00,},
		{208,0x00,},
		{209,0x00,},
		{210,0x00,},
		{211,0x00,},
		{212,0x00,},
		{213,0x00,},
		{214,0x00,},
		{215,0x00,},
		{216,0x00,},
		{217,0x00,},
		{246,0x02,},
	};

/**SILAB configuration for U218 Si5375 ports C and D (STM-1/STM-4 configuration)
 *
 */
static const int si5375_155_52_155_52[32][2] = {
		{  0, 0x34,},
		{  2, 0xA6,},
		{  3, 0x05,},
		{  5, 0xED,},
		{  6, 0x0D,},
		{  8, 0x00,},
		{ 10, 0x00,},
		{ 11, 0x40,},
		{ 19, 0x24,},
		{ 20, 0x03,},
		{ 21, 0x3F,},
		{ 22, 0xDF,},
		{ 23, 0x1C,},
		{ 24, 0x3E,},
		{ 25, 0xA0,},
		{ 31, 0x00,},
		{ 32, 0x00,},
		{ 33, 0x03,},
		{ 40, 0x00,},
		{ 41, 0x02,},
		{ 42, 0xBD,},
		{ 43, 0x00,},
		{ 44, 0x00,},
		{ 45, 0x4D,},
		{ 46, 0x00,},
		{ 47, 0x00,},
		{ 48, 0x00,},
		{131, 0x1F,},
		{132, 0x02,},
		{138, 0x0F,},
		{139, 0xFF,},
		{136, 0x40,},
};

static const int si5375_155_52_166_62[32][2] = {
		{  0, 0x34,},
		{  2, 0xA6,},
		{  3, 0x05,},
		{  5, 0xED,},
		{  6, 0x0D,},
		{  8, 0x00,},
		{ 10, 0x00,},
		{ 11, 0x40,},
		{ 19, 0x2F,},
		{ 20, 0x03,},
		{ 21, 0x3F,},
		{ 22, 0xDF,},
		{ 23, 0x1C,},
		{ 24, 0x3E,},
		{ 25, 0x20,},
		{ 31, 0x00,},
		{ 32, 0x00,},
		{ 33, 0x05,},
		{ 40, 0xA0,},
		{ 41, 0x01,},
		{ 42, 0x2B,},
		{ 43, 0x00,},
		{ 44, 0x00,},
		{ 45, 0x53,},
		{ 46, 0x00,},
		{ 47, 0x00,},
		{ 48, 0x00,},
		{131, 0x1F,},
		{132, 0x02,},
		{138, 0x0F,},
		{139, 0xFF,},
		{136, 0x40,},
};
/**SILAB configuration for U218 Si5375 ports C
 *
 */
static const int si5375_cfg_167MHz_155_52MHz[32][2] =
{
		{  0,0x34,},
		{  2,0xA6,},
		{  3,0x05,},
		{  5,0xED,},
		{  6,0x0D,},
		{  8,0x00,},
		{ 10,0x00,},
		{ 11,0x40,},
		{ 19,0x2C,},
		{ 20,0x03,},
		{ 21,0x3F,},
		{ 22,0xDF,},
		{ 23,0x1C,},
		{ 24,0x3E,},
		{ 25,0xA0,},
		{ 31,0x00,},
		{ 32,0x00,},
		{ 33,0x03,},
		{ 40,0x40,},
		{ 41,0x01,},
		{ 42,0xD9,},
		{ 43,0x00,},
		{ 44,0x00,},
		{ 45,0x54,},
		{ 46,0x00,},
		{ 47,0x00,},
		{ 48,0x00,},
		{131,0x1F,},
		{132,0x02,},
		{138,0x0F,},
		{139,0xFF,},
		{136,0x40,},
};

/**SILAB configuration for U218 Si5375 ports C and D (GE configuration)
 *
 */
static const int si5375_155_52_125[32][2] =
{
		{  0, 0x34,},
		{  2, 0xA6,},
		{  3, 0x05,},
		{  5, 0xED,},
		{  6, 0x0D,},
		{  8, 0x00,},
		{ 10, 0x00,},
		{ 11, 0x40,},
		{ 19, 0x24,},
		{ 20, 0x03,},
		{ 21, 0x3F,},
		{ 22, 0xDF,},
		{ 23, 0x1C,},
		{ 24, 0x3E,},
		{ 25, 0x60,},
		{ 31, 0x00,},
		{ 32, 0x00,},
		{ 33, 0x05,},
		{ 40, 0x20,},
		{ 41, 0x22,},
		{ 42, 0x2D,},
		{ 43, 0x00,},
		{ 44, 0x05,},
		{ 45, 0x0F,},
		{ 46, 0x00,},
		{ 47, 0x00,},
		{ 48, 0x00,},
		{131, 0x1F,},
		{132, 0x02,},
		{138, 0x0F,},
		{139, 0xFF,},
		{136, 0x40,},

};

static const int si5375_cfg_155_52MHz_334_66MHz[32][2] =
{
		{   0, 0x34,},
		{   2, 0xA6,},
		{   3, 0x05,},
		{   5, 0xED,},
		{   6, 0x05,},
		{   8, 0x00,},
		{  10, 0x00,},
		{  11, 0x40,},
		{  19, 0x04,},
		{  20, 0x03,},
		{  21, 0x3F,},
		{  22, 0xDF,},
		{  23, 0x1C,},
		{  24, 0x3E,},
		{  25, 0x80,},
		{  31, 0x00,},
		{  32, 0x00,},
		{  33, 0x01,},
		{  40, 0x20,},
		{  41, 0x02,},
		{  42, 0x1F,},
		{  43, 0x00,},
		{  44, 0x00,},
		{  45, 0x4E,},
		{  46, 0x00,},
		{  47, 0x00,},
		{  48, 0x00,},
		{ 131, 0x1F,},
		{ 132, 0x02,},
		{ 138, 0x0F,},
		{ 139, 0xFF,},
		{ 136, 0x40,},
};

static const int si5375_155_52_106_25[32][2] =
{
		{  0, 0x34,},
		{  2, 0x76,},
		{  3, 0x05,},
		{  5, 0xED,},
		{  6, 0x05,},
		{  8, 0x00,},
		{ 10, 0x00,},
		{ 11, 0x40,},
		{ 19, 0x2C,},
		{ 20, 0x03,},
		{ 21, 0x3F,},
		{ 22, 0xDF,},
		{ 23, 0x1C,},
		{ 24, 0x3E,},
		{ 25, 0xA0,},
		{ 31, 0x00,},
		{ 32, 0x00,},
		{ 33, 0x05,},
		{ 40, 0x20,},
		{ 41, 0x10,},
		{ 42, 0x99,},
		{ 43, 0x00,},
		{ 44, 0x02,},
		{ 45, 0x3F,},
		{ 46, 0x00,},
		{ 47, 0x00,},
		{ 48, 0x00,},
		{131, 0x1F,},
		{132, 0x02,},
		{138, 0x0F,},
		{139, 0xFF,},
		{136, 0x40,},
};

static const int si5375_155_52_212_5[32][2] =
{
		{  0, 0x34,},
		{  2, 0x56,},
		{  3, 0x05,},
		{  5, 0xED,},
		{  6, 0x05,},
		{  8, 0x00,},
		{ 10, 0x00,},
		{ 11, 0x40,},
		{ 19, 0x2C,},
		{ 20, 0x03,},
		{ 21, 0x3F,},
		{ 22, 0xDF,},
		{ 23, 0x1C,},
		{ 24, 0x3E,},
		{ 25, 0x60,},
		{ 31, 0x00,},
		{ 32, 0x00,},
		{ 33, 0x03,},
		{ 40, 0x20,},
		{ 41, 0x74,},
		{ 42, 0x35,},
		{ 43, 0x00,},
		{ 44, 0x0F,},
		{ 45, 0x2F,},
		{ 46, 0x00,},
		{ 47, 0x00,},
		{ 48, 0x00,},
		{131, 0x1F,},
		{132, 0x02,},
		{138, 0x0F,},
		{139, 0xFF,},
		{136, 0x40,},
};
#endif
 /*MAIN_H*/
